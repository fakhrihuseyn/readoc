<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Docs / Notes</title>
    <link rel="stylesheet" href="/style.css" />
    <script src="/app.js" defer></script>
    <script src="/resize.js" defer></script>
    <script src="/split-resize.js" defer></script>
    <script src="/upload.js" defer></script>
  </head>
  <body>
    <div class="header">
      <div class="logo-wrap">
        <img src="/logo.svg" alt="READOC logo" class="logo" />
      </div>
    </div>
    <div class="container">
      <aside class="sidebar" aria-label="notes list">
        <h2 class="sidebar-title">üìÅ Docs & Notes</h2>
        <div class="upload-docs">
          <label for="fileUpload" class="upload-label">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="18"
              height="18"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="17 8 12 3 7 8" />
              <line x1="12" y1="3" x2="12" y2="15" />
            </svg>
            Upload your Docs
            <input
              type="file"
              id="fileUpload"
              accept=".md, .markdown"
              multiple
            />
          </label>
          <div id="uploadProgress" class="upload-progress"></div>
        </div>
        <div class="new-note">
          <input id="newTitle" placeholder="New note title" />
          <button id="createBtn">Create</button>
        </div>
        <ul id="notesList"></ul>
      </aside>
      <main class="editor">
        <div class="editor-top">
          <!-- show compact note title (bold) and keep file-id in data-file-id attribute -->
          <div id="noteId" data-file-id="" aria-label="note filename">
            <strong id="noteIdText"></strong>
          </div>

          <div class="actions">
            <input type="text" id="searchInput" placeholder="Search notes..." />
            <button onclick="searchNotes()" id="searchBtn">Search</button>
            <span id="saveStatus" class="save-status" aria-live="polite"></span>
            <button id="saveBtn">Save</button>
            <button id="previewBtn">Preview</button>
          </div>
        </div>
        <div class="editor-toolbar" role="toolbar" aria-label="editor toolbar">
          <div class="toolbar-section">
            <!-- Text & Font Controls -->
            <button id="undoBtn" title="Undo" aria-label="Undo">
              <!-- Undo: curved arrow with arrowhead pointing left -->
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="18"
                height="18"
                fill="none"
                stroke="currentColor"
                stroke-width="2.4"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <path d="M20 13a7 7 0 0 0-11-5.65L4 13" />
                <path d="M5 8 L2 11 L5 14" fill="currentColor" stroke="none" />
              </svg>
            </button>
            <button id="redoBtn" title="Redo" aria-label="Redo">
              <!-- Redo: curved arrow with arrowhead pointing right -->
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="18"
                height="18"
                fill="none"
                stroke="currentColor"
                stroke-width="2.4"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <path d="M4 11a7 7 0 0 0 11 5.65L20 11" />
                <path
                  d="M19 8 L22 11 L19 14"
                  fill="currentColor"
                  stroke="none"
                />
              </svg>
            </button>
            <select id="fontSizeSelect" title="Font size">
              <option value="13">Small</option>
              <option value="15" selected>Normal</option>
              <option value="18">Large</option>
              <option value="22">X-Large</option>
            </select>
            <select
              id="fontSelect"
              title="Font family"
              aria-label="Font family"
            >
              <!-- a mix of common system fonts and popular web fonts (fallbacks included) -->
              <option
                value="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"
                selected
              >
                System UI
              </option>
              <option
                value="'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif"
              >
                Inter
              </option>
              <option
                value="'Roboto', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif"
              >
                Roboto
              </option>
              <option value="'Open Sans', Arial, sans-serif">Open Sans</option>
              <option value="'Lato', Arial, sans-serif">Lato</option>
              <option value="'Montserrat', Arial, sans-serif">
                Montserrat
              </option>
              <option value="'Raleway', Arial, sans-serif">Raleway</option>
              <option value="'Source Sans Pro', Arial, sans-serif">
                Source Sans Pro
              </option>
              <option value="'Poppins', Arial, sans-serif">Poppins</option>
              <option value="'Nunito', Arial, sans-serif">Nunito</option>
              <option value="'Merriweather', Georgia, serif">
                Merriweather
              </option>
              <option value="'Playfair Display', Georgia, serif">
                Playfair Display
              </option>
              <option value="Georgia, 'Times New Roman', Times, serif">
                Georgia
              </option>
              <option value="'Times New Roman', Times, serif">
                Times New Roman
              </option>
              <option value="'Courier New', Courier, monospace">
                Courier New (monospace)
              </option>
              <option value="'Fira Code', 'Courier New', Courier, monospace">
                Fira Code (mono)
              </option>
              <option value="'Source Code Pro', monospace">
                Source Code Pro (mono)
              </option>
              <option value="'Inconsolata', monospace">
                Inconsolata (mono)
              </option>
              <option value="'Ubuntu', Arial, sans-serif">Ubuntu</option>
              <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">
                Segoe UI
              </option>
            </select>
            <button data-cmd="bold" title="Bold">B</button>
            <button data-cmd="italic" title="Italic"><i>I</i></button>

            <label for="textColorPicker">Aa:</label>
            <input
              type="color"
              id="textColorPicker"
              value="#000000"
              title="Choose text color"
            />
          </div>

          <div class="toolbar-section">
            <!-- Markdown & Formatting -->
            <div class="toolbar-dropdown" data-dropdown="heading">
              <button type="button" class="dropdown-trigger">Heading</button>
              <div class="dropdown-content">
                <button type="button" data-cmd="h1">Heading 1</button>
                <button type="button" data-cmd="h2">Heading 2</button>
                <button type="button" data-cmd="h3">Heading 3</button>
                <button type="button" data-cmd="h4">Heading 4</button>
              </div>
            </div>

            <div class="toolbar-dropdown" data-dropdown="list">
              <button type="button" class="dropdown-trigger">List</button>
              <div class="dropdown-content">
                <button
                  type="button"
                  data-cmd="ul"
                  class="list-icon-btn"
                  title="Bullet List"
                >
                  <span class="list-icon-small" aria-hidden="true">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      style="display: block"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle cx="5" cy="5" r="2" fill="#334155" />
                      <rect
                        x="9"
                        y="4"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                      <circle cx="5" cy="10" r="2" fill="#334155" />
                      <rect
                        x="9"
                        y="9"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                      <circle cx="5" cy="15" r="2" fill="#334155" />
                      <rect
                        x="9"
                        y="14"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                    </svg>
                  </span>
                </button>
                <button
                  type="button"
                  data-cmd="ol"
                  class="list-icon-btn"
                  title="Numbered List"
                >
                  <span class="list-icon-small" aria-hidden="true">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      style="display: block"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <text
                        x="3.5"
                        y="6.5"
                        font-size="4.5"
                        fill="#334155"
                        font-family="Arial, sans-serif"
                        font-weight="bold"
                      >
                        1
                      </text>
                      <rect
                        x="9"
                        y="4"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                      <text
                        x="3.5"
                        y="11.5"
                        font-size="4.5"
                        fill="#334155"
                        font-family="Arial, sans-serif"
                        font-weight="bold"
                      >
                        2
                      </text>
                      <rect
                        x="9"
                        y="9"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                      <text
                        x="3.5"
                        y="16.5"
                        font-size="4.5"
                        fill="#334155"
                        font-family="Arial, sans-serif"
                        font-weight="bold"
                      >
                        3
                      </text>
                      <rect
                        x="9"
                        y="14"
                        width="8"
                        height="2"
                        rx="1"
                        fill="#64748b"
                      />
                    </svg>
                  </span>
                </button>
              </div>
            </div>

            <div class="toolbar-dropdown" data-dropdown="format">
              <button type="button" class="dropdown-trigger">Format</button>
              <div class="dropdown-content">
                <button type="button" data-cmd="quote">Blockquote</button>
                <button type="button" data-cmd="code">Code Block</button>
                <button type="button" data-cmd="align-left">Align Left</button>
                <button type="button" data-cmd="align-center">
                  Align Center
                </button>
                <button type="button" data-cmd="align-right">
                  Align Right
                </button>
              </div>
            </div>

            <button data-cmd="link" title="Insert link">üîó</button>
            <button data-cmd="hr" title="Horizontal rule">‚Äî</button>
          </div>
        </div>
        <div class="editor-body">
          <textarea
            id="noteEditor"
            placeholder="Write your note in Markdown..."
          ></textarea>
          <div id="preview" class="preview" aria-live="polite"></div>
        </div>
      </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="/app.js"></script>
    <script src="/searchNotes.js"></script>
    <!-- <script>
      document
        .getElementById("searchInput")
        .addEventListener("keydown", function (e) {
          if (e.key === "Enter") {
            searchNotes();
          }
        });
    </script> -->
  </body>
</html>
